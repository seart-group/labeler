<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/highlight.min.js" integrity="sha384-GdEWAbCjn+ghjX0gLx7/N1hyTVmPAjdC2OvoAA0RyNcAOhqwtT8qnbCxWle2+uJX" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/languages/plaintext.min.js" integrity="sha384-hE+znpd5xggEBW6IccZoCI0mgFHAfLVuqT/7aW8RakaQ4UJnI058SfIX3lhdGxtE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/languages/json.min.js" integrity="sha384-Bb6DhE3tUpBROwypL78TbhRUs9QbCt2GxcxVSYglt2l3MefrYkm4CfwjfWhRfQaX" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js" integrity="sha384-+ch8x/dgaV//v6Sa8m4v5+7KScnpCuxHqilN8njQ013CEKg3Fbd8Q3oN9tfpouLh" crossorigin="anonymous"></script>
<script>
    (function (hljs){
        const highlightElement = (element) => {
            hljs.highlightElement(element);
        };

        const numberElementLines = (element) => {
            hljs.lineNumbersBlock(element, {startFrom: 1, singleLine: true});
        };

        const injectAnchorTags = (element) => {
            const content = element.textContent;
            const url = content.slice(1, -1);
            const regex = /(https?:\/\/)([^ ]+)/;
            const replace = regex.test(url);
            if (replace) element.innerHTML = `<a href="${url}" target="_blank">${content}</a>`;
        };

        hljs.configure({languages: ["json", "plaintext"]});
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("pre code").forEach(highlightElement);
            document.querySelectorAll("code.hljs").forEach(numberElementLines);
            document.querySelectorAll("span.hljs-string").forEach(injectAnchorTags);
        });
    })(hljs);
</script>