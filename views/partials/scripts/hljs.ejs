<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/highlight.min.js" integrity="sha384-RH2xi4eIQ/gjtbs9fUXM68sLSi99C7ZWBRX1vDrVv6GQXRibxXLbwO2NGZB74MbU" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/plaintext.min.js" integrity="sha384-Z9EdtPaC8UiXHEq1WuQTdvqT+FwjLwaVTIwTCZW/dGfiU9nbF8Shvltrhqtw83Qb" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/json.min.js" integrity="sha384-3C+cPClJZgjKFYAb0bh35D7im2jasLzgk9eRix3t1c5pk1+x6b+bHghWcdrKwIo3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.9.0/dist/highlightjs-line-numbers.min.js" integrity="sha384-6rHCa21MIzRgy01wZnsoz1V0fjZjOvXWb6egWWI/pJpsBUhzWV5B7uQZYDsRabbI" crossorigin="anonymous"></script>
<script>
    (function (hljs){
        const highlightElement = (element) => {
            hljs.highlightElement(element);
        };

        const numberElementLines = (element) => {
            hljs.lineNumbersBlock(element, {startFrom: 1, singleLine: true});
        };

        const injectAnchorTags = (element) => {
            const content = element.textContent;
            const url = content.slice(1, -1);
            const regex = /(https?:\/\/)([^ ]+)/;
            const replace = regex.test(url);
            if (replace) element.innerHTML = `<a href="${url}" target="_blank">${content}</a>`;
        };

        hljs.configure({languages: ["json", "plaintext"]});
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll("pre code").forEach(highlightElement);
            document.querySelectorAll("code.hljs").forEach(numberElementLines);
            document.querySelectorAll("span.hljs-string").forEach(injectAnchorTags);
        });
    })(hljs);
</script>